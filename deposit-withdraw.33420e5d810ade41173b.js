(this.webpackJsonp=this.webpackJsonp||[]).push([[15],{1994:function(e,t,a){"use strict";var n=a(0),o=a.n(n),s=a(339),r=a(44),i=a(47),c=a(9),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){p(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.getDynamicObject=e.getDynamicObject.bind(e),e}return h(t,o.a.Component),u(t,[{key:"getDynamicObject",value:function(e){return this.props.dos.find(function(t){return t&&t.get("id")===e})}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),l({},this.props,{getDynamicObject:this.getDynamicObject}))}}]),t}();m.propTypes={dos:r.a.ChainObjectsList},m.defaultProps={dos:Object(c.List)()},m=Object(i.a)(m);var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.propNames=t.propNames||[t.asList?"assets":"asset"];var a=t.propNames.reduce(function(e,a){return e[a]=t.asList?r.a.ChainAssetsList:r.a.ChainAsset.isRequired,e},{}),n=Object.keys(a).reduce(function(e,a){var n=t.defaultProps&&t.defaultProps[a];return e[a]=t.asList?Object(c.List)(n||[]):n||"1.3.0",e},{});t.defaultProps&&t.defaultProps.tempComponent&&(n.tempComponent=t.defaultProps.tempComponent);var f=function(e){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return h(a,o.a.Component),u(a,[{key:"render",value:function(){var e=this,a={},n={},s=Object(c.List)();Object.keys(this.props).forEach(function(o){e.props[o]&&-1!==t.propNames.indexOf(o)?(t.withDynamic&&(t.asList?e.props[o].forEach(function(e){e&&(s=s.push(e.get("dynamic_asset_data_id")))}):s=s.push(e.props[o].get("dynamic_asset_data_id"))),a[o]=t.asList?e.props[o].filter(function(e){return!!e}):e.props[o]):n[o]=e.props[o]});var r=o.a.cloneElement(o.a.Children.only(this.props.children),l({},n,a));return t.withDynamic?o.a.createElement(m,{dos:s},r):r}}]),a}();f.propTypes=a,f.defaultProps=n,f=Object(i.a)(f);var _=function(t){function a(){return p(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return h(a,o.a.Component),u(a,[{key:"render",value:function(){return o.a.createElement(f,this.props,o.a.createElement(e,{ref:"bound_component"}))}}]),a}();return _.displayName="Wrapper("+Object(s.a)(e)+")",_},_=a(1),y=a.n(_),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e){function t(e){v(this,t);var a=w(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={imgError:!1},a}return E(t,o.a.Component),g(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.asset!==e.asset||this.props.maxWidth!==e.maxWidth||this.props.whiteList!==e.whiteList||this.state.imgError!==t.imgError}},{key:"_onError",value:function(e){this.state.imgError||(this.props.replaceNoneToBts?this.refs[e.toLowerCase()].src="/asset-symbols/bts.png":this.refs[e.toLowerCase()].remove(),this.setState({imgError:!0}))}},{key:"render",value:function(){var e=function(e){return e.get("symbol")}(this.props.asset);return o.a.createElement("img",{ref:e.toLowerCase(),className:"column-hide-small",onError:this._onError.bind(this,e),style:{maxWidth:this.props.maxWidth,marginRight:5},src:"/asset-symbols/"+e.toLowerCase()+".png"})}}]),t}();k.propTypes={replaceNoneToBts:y.a.bool,maxWidth:y.a.number},k.defaultProps={replaceNoneToBts:!0,maxWidth:20},k=f(k);var C=function(e){function t(){return v(this,t),w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,o.a.Component),g(t,[{key:"render",value:function(){return o.a.createElement(k,b({},this.props,{asset:this.props.name}))}}]),t}();t.a=C},1995:function(e,t,a){"use strict";var n=a(0),o=a.n(n),s=a(2),r=a.n(s),i=a(36),c=a(1998),l=a(9),u=a.n(l),p=a(5),d=a.n(p),h=a(124),m=a(16),f=a(1),_=a.n(f),y=a(282),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,o.a.Component),b(t,[{key:"shouldComponentUpdate",value:function(e){return!m.a.are_equal_shallow(e.assets,this.props.assets)||e.value!==this.props.value||e.scroll_length!==this.props.scroll_length}},{key:"render",value:function(){return this.props.assets.length?o.a.createElement(c.a,{entries:this.props.assets.map(function(e){return e&&e.get("symbol")}).filter(function(e){return!!e}),values:this.props.assets.reduce(function(e,t){return t&&t.get("symbol")&&(e[t.get("symbol")]=t),e},{}),singleEntry:this.props.assets[0]?o.a.createElement(i.a,{asset:this.props.assets[0].get("id"),amount:0,hide_amount:!0}):null,value:this.props.value,onChange:this.props.onChange,scroll_length:this.props.scroll_length}):null}}]),t}();E.propTypes={value:_.a.string,onChange:_.a.func,scroll_length:_.a.number},E=Object(h.a)(E,{asList:!0});var k=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,y["a"]),b(t,[{key:"componentDidMount",value:function(){this.onAssetChange(this.props.asset)}},{key:"formatAmount",value:function(e){return e||(e=""),"number"==typeof e&&(e=e.toString()),e.trim().replace(/,/g,"")}},{key:"_onChange",value:function(e){this.props.onChange&&this.props.onChange({amount:this.getNumericEventValue(e),asset:this.props.asset})}},{key:"onAssetChange",value:function(e){this.props.onChange&&this.props.onChange({amount:this.props.amount,asset:e})}},{key:"render",value:function(){var e=this.props.error?d.a.translate(this.props.error):this.formatAmount(this.props.amount);return o.a.createElement("div",{className:"amount-selector",style:this.props.style},o.a.createElement("label",{className:"right-label"},this.props.display_balance),o.a.createElement(r.a,{className:"left-label",component:"label",content:this.props.label}),o.a.createElement("div",{className:"inline-label input-wrapper"},o.a.createElement("input",{disabled:this.props.disabled,type:"text",value:e||"",placeholder:this.props.placeholder,onChange:this._onChange.bind(this),tabIndex:this.props.tabIndex,onPaste:this.props.onPaste||this.onPaste.bind(this),onKeyPress:this.onKeyPress.bind(this)}),o.a.createElement("div",{className:"form-label select floating-dropdown"},this.props.isPrice?o.a.createElement("div",{className:"dropdown-wrapper inactive"},o.a.createElement("div",null,this.props.asset.get("symbol"),"/",this.props.base)):o.a.createElement(E,{ref:this.props.refCallback,value:this.props.asset.get("symbol"),assets:u.a.List(this.props.assets),onChange:this.onAssetChange.bind(this),scroll_length:this.props.scroll_length}))))}}]),t}();k.propTypes={label:_.a.string,assets:_.a.array,amount:_.a.any,placeholder:_.a.string,onChange:_.a.func,tabIndex:_.a.number,error:_.a.string,scroll_length:_.a.number},k.defaultProps={disabled:!1,tabIndex:0},k=Object(h.a)(k),t.a=k},1998:function(e,t,a){"use strict";var n=a(0),o=a.n(n),s=a(16),r=a(1),i=a.n(r),c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);e.scroll_length;var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={active:!1},a.listener=!1,a.onBodyClick=a.onBodyClick.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),c(t,[{key:"componentDidMount",value:function(){this._setListener()}},{key:"shouldComponentUpdate",value:function(e,t){return!s.a.are_equal_shallow(e.entries,this.props.entries)||!s.a.are_equal_shallow(t,this.state)||e.value!==this.props.value}},{key:"_setListener",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).entries.length>1&&!this.listener&&(this.listener=!0,document.body.addEventListener("click",this.onBodyClick,{capture:!1,passive:!0}))}},{key:"_removeListener",value:function(){document.body.removeEventListener("click",this.onBodyClick),this.listener=!1}},{key:"componentWillReceiveProps",value:function(e){1===e.entries.length?this._removeListener():e.entries.length>1&&this._setListener(e)}},{key:"componentWillUnmount",value:function(){this._removeListener()}},{key:"onBodyClick",value:function(e){var t=e.target,a=!1;do{if(t.classList&&t.classList.contains("dropdown")&&t.id===this.props.id){a=!0;break}}while(t=t.parentNode);a?e.stopPropagation():this.setState({active:!1})}},{key:"onChange",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onChange(e),this.setState({active:!1})}},{key:"_toggleDropdown",value:function(){this.setState({active:!this.state.active})}},{key:"render",value:function(){var e=this,t=this.props,a=t.entries,n=t.value,s=this.state.active;if(0===a.length)return null;if(1==a.length)return o.a.createElement("div",{className:"dropdown-wrapper inactive"+(this.props.upperCase?" upper-case":"")},o.a.createElement("div",null,this.props.singleEntry?this.props.singleEntry:a[0]));var r=a.map(function(t){return o.a.createElement("li",{className:e.props.upperCase?"upper-case":"",key:t,onClick:e.onChange.bind(e,e.props.values[t])},o.a.createElement("span",null,t))});return o.a.createElement("div",{onClick:this._toggleDropdown.bind(this),className:"dropdown-wrapper"+(s?" active":"")+(this.props.upperCase?" upper-case":"")},o.a.createElement("div",{style:{paddingRight:15}},n||o.a.createElement("span",{className:"hidden"},"A")),o.a.createElement("ul",{className:"dropdown",style:{overflow:a.length>this.props.scroll_length?"auto":"hidden"}},r))}}]),t}();l.propTypes={scroll_length:i.a.number},l.defaultProps={scroll_length:9},t.a=l},2013:function(e,t,a){const n=a(32),o=a(2014);let s={},r={},i={};function c(e,t,a,n){s[e]||(s[e]=[]),r[e]||(r[e]=[]),s[e].push(t),r[e].push([a,t,new Date(n)]),i[e]||(i[e]={}),i[e][a]||(i[e][a]={deposit:[],withdrawal:[]}),i[e][a][t>0?"deposit":"withdrawal"].push(t)}function l(e,t,a,n,s,r,i,l,u){return a||(a={amount:"",currency:""}),n||(n={amount:"",currency:""}),s||(s={amount:"",currency:""}),a.amount&&c(a.currency,a.amount,i,r),n.amount&&c(n.currency,-n.amount,i,r),s.amount&&c(s.currency,-s.amount,i,r),e.push([t,o.printAmount(a),a.currency,o.printAmount(n),n.currency,o.printAmount(s),s.currency,"BTS-DEX",u||"",l||"",r]),e}e.exports={parseData:function(e,t,a){let n=[];n.push(["Type","Buy Amount","Buy Currency","Sell Amount","Sell Currency","Fee Amount","Fee Currency","Exchange","Trade Group","Comment","Date"]);let s={};function r(e){s[e]||(s[e]=0),s[e]++}for(let s of Object.keys(e)){const{timestamp:i,type:c,data:u}=e[s];let p=null;switch(c){case"vesting_balance_withdraw":let e=o.parseCurrency(u.amount);p=o.parseCurrency(u.fee),n=l(n,"1.2.30665"===u.owner&&e.amount>1e4?"Income":"Deposit",e,null,p,i,c,`${a} : Vesting balance withdraw`),r(c);break;case"balance_claim":n=l(n,"Deposit",o.parseCurrency(u.total_claimed),null,null,i,c,`${a} : Balance claim`),r(c);break;case"transfer":let s=o.parseCurrency(u.amount);p=o.parseCurrency(u.fee),n=u.to==t?l(n,"1.2.391938"===u.to&&"1.2.381086"===u.from?"Income":"Deposit",s,null,null,i,c,`${a} : From ${u.from}`):l(n,"Withdrawal",null,s,p,i,c,`${a}: To ${u.to}`),r(c);break;case"fill_order":let d=o.parseCurrency(u.pays),h=o.parseCurrency(u.receives);"BTS"!==(p=o.parseCurrency(u.fee)).currency&&(h.currency===p.currency?(h.amount-=p.amount,p.amount=0):d.currency===p.currency&&(d.amount-=p.amount,p.amount=0)),n=l(n,"Trade",h,d,p,i,c),r(c);break;case"asset_issue":{let e=o.parseCurrency(u.asset_to_issue);p=u.issuer===t?o.parseCurrency(u.fee):null,u.issue_to_account===t&&(n=l(n,"Deposit",e,null,p,i,c,`${a} : Issued to account`)),r(c);break}case"account_update":case"proposal_create":case"proposal_update":case"account_whitelist":case"worker_create":case"limit_order_create":case"limit_order_cancel":case"call_order_update":(p=o.parseCurrency(u.fee)).amount>0&&(n=l(n,"Withdrawal",null,p,null,i,c,`${c} fee`),r(c));break;case"account_create":u.registrar===t&&(n=l(n,"Withdrawal",null,p=o.parseCurrency(u.fee),null,i,c,`${c} fee`),r(c));break;case"asset_fund_fee_pool":p=o.parseCurrency(u.fee),n=l(n,"Withdrawal",null,o.parseCurrency({amount:u.amount,asset_id:"1.3.0"}),p,i,c,`${c}`),r(c);break;default:console.log("Unhandled type:",c,u)}}return n},filterEntries:function(e,t,a){if(!t&&!a)return e;let n=Object.keys(e);for(var o=n.length-1;o>=0;o--){let s=n[o],{timestamp:r,type:i,data:c}=e[s];t&&i!==t?delete e[s]:a&&new Date(r).getTime()<a&&delete e[s]}return console.log(`Removed ${n.length-Object.keys(e).length} entries by filtering`),e},groupEntries:function(e){let t={},a=Object.keys(e);for(var o=a.length-1;o>=0;o--){let s=a[o],{timestamp:r,type:i,data:c}=e[s];switch(i){case"fill_order":let a=n(r),o=c.receives.asset_id+"_"+c.pays.asset_id,l=t[o],u=l?n(l.timestamp):null;l&&a.isSame(u,"day")&&l.data.pays.asset_id===c.pays.asset_id&&l.data.receives.asset_id===c.receives.asset_id&&(c.pays.amount=parseInt(c.pays.amount,10)+parseInt(l.data.pays.amount,10),c.receives.amount=parseInt(c.receives.amount,10)+parseInt(l.data.receives.amount,10),c.fee.amount=parseInt(c.fee.amount,10)+parseInt(l.data.fee.amount,10),e[s].data=c,delete e[l.trx_id]),t[o]={data:c,timestamp:r,trx_id:s}}}return console.log(`Removed ${a.length-Object.keys(e).length} fill_order entries by grouping`),e}}},2014:function(e,t,a){const{ChainStore:n}=a(6);e.exports={parseCurrency:function(e){let t=n.getAsset(e.asset_id),a=function(e){if("number"!=typeof e)throw new Error("Input must be a number");return Math.pow(10,e)}((t=t?t.toJS():{precision:5}).precision);return{amount:e.amount/a,currency:t.symbol,asset_id:e.asset_id}},printAmount:function(e){if(!e.amount||!e.currency)return"";let t=n.getAsset(e.asset_id);return t=t?t.toJS():{precision:5},e.amount.toFixed(t.precision)},getIndex:function(e){let t=e.split(".");return parseInt(t[2],10)}}},2015:function(e,t,a){const n=a(2016),o=a(15),{ChainTypes:s,ChainStore:r,FetchChain:i}=a(6),{operations:c}=s,l=Object.keys(c);let u={},p={};function d(e){return new Promise((t,a)=>{if(u[e])return t(u[e]);o.Apis.instance().db_api().exec("get_block",[e]).then(a=>{u[e]=new Date(a.timestamp+"Z"),t(u[e])}).catch(a)})}function h(e){return new Promise((t,a)=>{if(p[e])return t(p[e]);i("getObject",e,void 0,{[e]:!1}).then(a=>{let n=a.toJS();p[e]={symbol:n.symbol.replace(/OPEN\.|BRIDGE\.|RUDEX\.|GDEX\.|BLOCK\./,""),precision:n.precision},t(p[e])}).catch(e=>{a()})})}e.exports={connect:function(){return new Promise(e=>{o.Apis.instance(n.apiNode,!0).init_promise.then(t=>{r.init(!1).then(()=>{e(t)})}).catch(e=>{console.error("Error connection to node:",e)})})},disconnect:function(){o.Apis.instance().close()},getUser:function(e){return new Promise((t,a)=>{i("getAccount",e,void 0,{[e]:!1}).then(e=>{let a=e.toJS();a.balances||(a.balances={}),a.call_orders||(a.call_orders=[]);let n=Object.keys(a.balances);t({accountId:a.id,assets:n,balances:a.balances})}).catch(a)})},getBlockTime:d,getAssetData:h,resolveAssets:function(e,t){return new Promise((a,n)=>{let o=[],s={};e&&e.forEach(e=>{switch(l[e.op[0]]){case"transfer":s[e.op[1].amount.asset_id]=!0,s[e.op[1].fee.asset_id]=!0;break;case"fill_order":s[e.op[1].pays.asset_id]=!0,s[e.op[1].receives.asset_id]=!0,s[e.op[1].fee.asset_id]=!0;break;case"asset_issue":s[e.op[1].asset_to_issue.asset_id]=!0,s[e.op[1].fee.asset_id]=!0}}),t&&t.forEach(e=>{s[e]=!0}),Object.keys(s).forEach(e=>{!p[e]&&e&&o.push(h(e))}),Promise.all(o).then(a).catch(n)})},resolveBlockTimes:function(e){return new Promise((t,a)=>{let n=e.map(e=>(e.block_time&&(u[e.block_num]=new Date(e.block_time)),d(e.block_num)));Promise.all(n).then(t).catch(a)})},getAsset:function(e){return p[e]},getBlock:function(e){return u[e]}}},2016:function(e,t){e.exports={apiNode:"wss://eu.nodes.bitshares.ws",useES:!0,esNode:"https://wrapper.elasticsearch.bitshares.ws",botPaymentAccounts:[]}},2017:function(e,t,a){const n=a(15);let o;e.exports=function(e){return o=e?fetch:a(2018),{getAccountHistory:function(e,t,a,o){return new Promise((s,r)=>{n.Apis.instance().history_api().exec("get_account_history",[e,t,a,o]).then(e=>{s(e)}).catch(r)})},getAccountHistoryES:function(e,t,a,n="https://eswrapper.bitshares.eu"){return console.log("query",`${n}/get_account_history?account_id=${e}&from_=${a}&size=${t}&sort_by=block_data.block_time&type=data&agg_field=operation_type`),new Promise((s,r)=>{o(`${n}/get_account_history?account_id=${e}&from_=${a}&size=${t}&sort_by=block_data.block_time&type=data&agg_field=operation_type`).then(e=>e.json()).then(e=>{let t=e.map(e=>("amount_"in e.operation_history.op_object&&(e.operation_history.op_object.amount=e.operation_history.op_object.amount_),{id:e.account_history.operation_id,op:e.operation_history.op_object,operation_type:e.operation_type,result:JSON.parse(e.operation_history.operation_result),block_num:e.block_data.block_num,block_time:e.block_data.block_time+"Z"}));s(t)}).catch(e=>{console.log("getAccountHistory errror:",e),s([])})})}}}},2018:function(e,t){},2036:function(e,t,a){const{groupEntries:n,parseData:o}=a(2013),{resolveBlockTimes:s,resolveAssets:r}=a(2015),{getAccountHistoryES:i,getAccountHistory:c}=a(2017)(!0);e.exports={groupEntries:n,parseData:o,getAccountHistoryES:i,getAccountHistory:c,resolveBlockTimes:s,resolveAssets:r}},2052:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return c});var n=a(59),o=a(49),s=new n.a("");function r(e){var t=e.inputCoinType,a=e.outputCoinType,n=e.outputAddress,s=e.url,r=void 0===s?o.d.BASE:s,i=e.stateCallback,c={inputCoinType:t,outputCoinType:a,outputAddress:n},l=JSON.stringify(c);fetch(r+o.d.NEW_DEPOSIT_ADDRESS,{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:l}).then(function(e){e.json().then(function(e){var t={address:e.inputAddress||"unknown",memo:e.inputMemo,error:e.error||null};i&&i(t)},function(e){i&&i({address:"unknown",memo:null})})},function(e){i&&i({address:"unknown",memo:null})}).catch(function(e){console.log("fetch error:",e)})}function i(e){var t=e.url,a=void 0===t?o.d.BASE:t,n=e.walletType,s=e.newAddress;return s?fetch(a+"/wallets/"+n+"/check-address",{method:"post",headers:new Headers({Accept:"application/json","Content-Type":"application/json"}),body:JSON.stringify({address:s})}).then(function(e){return e.json().then(function(e){return e})}).catch(function(e){console.log("validate error:",e)}):new Promise(function(e){return e()})}var c={has:function(e){return s.has("history_address_"+e)},set:function(e){var t=e.wallet,a=e.addresses;s.set("history_address_"+t,a)},get:function(e){return s.get("history_address_"+e,[])},setLast:function(e){var t=e.wallet,a=e.address;s.set("history_address_last_"+t,a)},getLast:function(e){return s.get("history_address_last_"+e,"")}}},2161:function(e,t,a){"use strict";(function(e){var n=a(1993),o=a(0),s=a.n(o),r=a(2),i=a.n(r),c=a(44),l=a(47),u=a(16),p=a(373),d=a(5),h=a.n(d),m=a(1995),f=a(42),_=a(2052),y=a(30),b=a(21),g=a(6),v=a(210),w=a(40),E=a(1),k=a.n(E),C=a(4),S=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var O=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isConfirmationModalVisible:!1,withdraw_amount:t.props.amount_to_withdraw,withdraw_address:_.a.getLast(e.output_wallet_type),withdraw_address_check_in_progress:!0,withdraw_address_is_valid:null,options_is_valid:!1,confirmation_is_valid:!1,withdraw_address_selected:_.a.getLast(e.output_wallet_type),withdraw_publicKey:"",withdraw_publicKey_not_empty:!t.props.output_supportsPublicKey,memo:"",withdraw_address_first:!0,empty_withdraw_value:!1,from_account:e.account,fee_asset_id:g.ChainStore.assets_by_symbol.get(e.fee_asset_symbol)||"1.3.0",feeStatus:{}},t._validateAddress(t.state.withdraw_address,e),t._checkBalance=t._checkBalance.bind(t),t._checkMinAmount=t._checkMinAmount.bind(t),t._updateFee=Object(n.a)(t._updateFee.bind(t),250),t.showConfirmationModal=t.showConfirmationModal.bind(t),t.hideConfirmationModal=t.hideConfirmationModal.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,s.a.Component),S(a,[{key:"componentWillMount",value:function(){this._updateFee(),this._checkFeeStatus()}},{key:"componentWillUnmount",value:function(){this.unMounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.account!==this.state.from_account&&e.account!==this.props.account&&this.setState({from_account:e.account,feeStatus:{},feeAmount:new w.a({amount:0})},function(){t._updateFee(),t._checkFeeStatus()})}},{key:"showConfirmationModal",value:function(){this.setState({isConfirmationModalVisible:!0})}},{key:"hideConfirmationModal",value:function(){this.setState({isConfirmationModalVisible:!1})}},{key:"_updateFee",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,a=t.fee_asset_id,n=t.from_account,o=this._getAvailableAssets(t).fee_asset_types;if(1===o.length&&o[0]!==a&&(a=o[0]),!n)return null;Object(v.b)({accountID:n.get("id"),feeID:a,options:["price_per_kbyte"],data:{type:"memo",content:this.props.output_coin_type+":"+t.withdraw_address+(t.memo?":"+t.memo:"")}}).then(function(t){var a=t.fee,n=t.hasBalance,o=t.hasPoolBalance;e.unMounted||e.setState({feeAmount:a,hasBalance:n,hasPoolBalance:o,error:!n||!o},e._checkBalance)})}},{key:"_checkFeeStatus",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,a=t.from_account;if(a){var n=this._getAvailableAssets(t).fee_asset_types,o={},s=[];n.forEach(function(n){s.push(Object(v.b)({accountID:a.get("id"),feeID:n,options:["price_per_kbyte"],data:{type:"memo",content:e.props.output_coin_type+":"+t.withdraw_address+(t.memo?":"+t.memo:"")}}))}),Promise.all(s).then(function(a){n.forEach(function(e,t){o[e]=a[t]}),u.a.are_equal_shallow(t.feeStatus,o)||e.setState({feeStatus:o}),e._checkBalance()}).catch(function(e){console.error(e)})}}},{key:"onMemoChanged",value:function(e){this.setState({memo:e.target.value},this._updateFee)}},{key:"onWithdrawAmountChange",value:function(e){var t=e.amount;this.setState({withdraw_amount:t,empty_withdraw_value:void 0!==t&&!parseFloat(t)},function(){this._checkBalance,this._checkMinAmount()})}},{key:"onSelectChanged",value:function(e){var t=_.a.get(this.props.output_wallet_type)[e];_.a.setLast({wallet:this.props.output_wallet_type,address:t}),this.setState({withdraw_address_selected:t,options_is_valid:!1,withdraw_address:t,withdraw_address_check_in_progress:!0,withdraw_address_is_valid:null},this._updateFee),this._validateAddress(t)}},{key:"onWithdrawAddressChanged",value:function(e){var t=e.target.value.trim();this.setState({withdraw_address:t,withdraw_address_check_in_progress:!0,withdraw_address_selected:t,withdraw_address_is_valid:null},this._updateFee),this._validateAddress(t)}},{key:"onWithdrawPublicKeyChanged",value:function(e){var t=e.target.value.trim();this.setState({withdraw_publicKey:t,withdraw_publicKey_not_empty:""!=t})}},{key:"_validateAddress",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;Object(_.c)({url:a.url,walletType:a.output_wallet_type,newAddress:e}).then(function(a){void 0===a&&(a={isValid:!1}),t.state.withdraw_address===e&&t.setState({withdraw_address_check_in_progress:!1,withdraw_address_is_valid:a.isValid,withdraw_publicKey:a.hasOwnProperty("publicKey")?a.publicKey:"",withdraw_publicKey_not_empty:!t.props.output_supportsPublicKey||!!a.hasOwnProperty("publicKey")})})}},{key:"_checkBalance",value:function(){var e=this.state,t=e.feeAmount,a=e.withdraw_amount,n=this.props,o=n.asset,s=n.balance;if(s&&t){var r=Object(v.a)(a,o,t,s);if(null!==r)return this.setState({balanceError:!r}),r}}},{key:"_checkMinAmount",value:function(){var e=this.state.withdraw_amount;if(null!==e){var t=e<this.props.min_amount/u.a.get_asset_precision(this.props.asset_precision);return this.setState({minAmountError:t}),t}}},{key:"onSubmit",value:function(){if(!this.state.withdraw_address_check_in_progress&&this.state.withdraw_address&&this.state.withdraw_address.length&&null!==this.state.withdraw_amount)if(this.state.withdraw_address_is_valid)if(parseFloat(this.state.withdraw_amount)>0){if(_.a.has(this.props.output_wallet_type)){var t=_.a.get(this.props.output_wallet_type);-1==t.indexOf(this.state.withdraw_address)&&(t.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:t}))}else{var a=[];a.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:a})}_.a.setLast({wallet:this.props.output_wallet_type,address:this.state.withdraw_address});var n=this.props.asset,o=this.state,s=o.feeAmount,r=o.fee_asset_id,i=parseFloat(String.prototype.replace.call(this.state.withdraw_amount,/,/g,"")),c=new w.a({asset_id:n.get("id"),precision:n.get("precision"),real:i});f.a.transfer(this.props.account.get("id"),this.props.issuer.get("id"),c.getAmount(),n.get("id"),this.props.output_coin_type+":"+this.state.withdraw_address+(this.props.output_supportsPublicKey?":"+this.state.withdraw_publicKey:"")+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,s?s.asset_id:r),this.setState({empty_withdraw_value:!1})}else this.setState({empty_withdraw_value:!0});else this.showConfirmationModal()}},{key:"onSubmitConfirmation",value:function(){if(this.hideConfirmationModal(),_.a.has(this.props.output_wallet_type)){var t=_.a.get(this.props.output_wallet_type);-1==t.indexOf(this.state.withdraw_address)&&(t.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:t}))}else{var a=[];a.push(this.state.withdraw_address),_.a.set({wallet:this.props.output_wallet_type,addresses:a})}_.a.setLast({wallet:this.props.output_wallet_type,address:this.state.withdraw_address});var n=this.props.asset,o=u.a.get_asset_precision(n.get("precision")),s=String.prototype.replace.call(this.state.withdraw_amount,/,/g,""),r=this.state,i=r.feeAmount,c=r.fee_asset_id;f.a.transfer(this.props.account.get("id"),this.props.issuer.get("id"),parseInt(s*o,10),n.get("id"),this.props.output_coin_type+":"+this.state.withdraw_address+(this.props.output_supportsPublicKey?":"+this.state.withdraw_publicKey:"")+(this.state.memo?":"+new e(this.state.memo,"utf-8"):""),null,i?i.asset_id:c)}},{key:"onDropDownList",value:function(){_.a.has(this.props.output_wallet_type)&&(!1===this.state.options_is_valid&&(this.setState({options_is_valid:!0}),this.setState({withdraw_address_first:!1})),!0===this.state.options_is_valid&&this.setState({options_is_valid:!1}))}},{key:"getWithdrawModalId",value:function(){return"confirmation"}},{key:"onAccountBalance",value:function(){var e=this.state.feeAmount;if(Object.keys(this.props.account.get("balances").toJS()).includes(this.props.asset.get("id"))){var t=new w.a({amount:this.props.balance.get("balance"),asset_id:this.props.asset.get("id"),precision:this.props.asset.get("precision")});t.asset_id===e.asset_id&&t.minus(e),this.setState({withdraw_amount:t.getAmount({real:!0}),empty_withdraw_value:!1},this._checkBalance)}}},{key:"setNestedRef",value:function(e){this.nestedRef=e}},{key:"onFeeChanged",value:function(e){var t=e.asset;this.setState({fee_asset_id:t.get("id")},this._updateFee)}},{key:"_getAvailableAssets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state,t=e.from_account,a=e.feeStatus;var n=[];if(!t||!t.get("balances"))return{fee_asset_types:n};var o=e.from_account.get("balances").toJS();for(var s in n=Object.keys(o).sort(u.a.sortID),o){var r=g.ChainStore.getObject(s),i=g.ChainStore.getObject(o[s]);if(i&&0===i.get("balance")&&-1!==n.indexOf(s)&&n.splice(n.indexOf(s),1),r){var c=!1;try{c=new w.i({base:new w.a(r.getIn(["options","core_exchange_rate","base"]).toJS()),quote:new w.a(r.getIn(["options","core_exchange_rate","quote"]).toJS())}).isValid()}catch(e){c=!1}"1.3.0"===r.get("id")||c||n.splice(n.indexOf(s),1)}}return{fee_asset_types:n=n.filter(function(e){return function(e){return void 0===a[e]||a[e]&&a[e].hasPoolBalance}(e)&&function(e){return void 0===a[e]||a[e]&&a[e].hasBalance}(e)})}}},{key:"render",value:function(){var e=this.state,t=e.withdraw_address_selected,a=e.withdraw_publicKey,n=e.memo,o=_.a.get(this.props.output_wallet_type),r=null,c=this.props.account.get("balances").toJS(),l=Object.keys(c),d=(this.getWithdrawModalId(),null),f=null,y=null;this.state.options_is_valid&&(f=s.a.createElement("div",{className:o.length?"rudex-options":"rudex-disabled-options"},o.map(function(e,t){return s.a.createElement("a",{key:t,onClick:this.onSelectChanged.bind(this,t)},e)},this))),!this.state.withdraw_address_check_in_progress&&this.state.withdraw_address&&this.state.withdraw_address.length&&(this.state.withdraw_address_is_valid||(d=s.a.createElement("div",{className:"has-error",style:{paddingTop:10}},s.a.createElement(i.a,{content:"gateway.valid_address",coin_type:this.props.output_coin_type})),y=s.a.createElement(C.Modal,{closable:!1,footer:[s.a.createElement(C.Button,{key:"submit",type:"primary",onClick:this.onSubmitConfirmation.bind(this)},h.a.translate("modal.confirmation.accept")),s.a.createElement(C.Button,{key:"cancel",style:{marginLeft:"8px"},onClick:this.hideConfirmationModal},h.a.translate("modal.confirmation.cancel"))],visible:this.state.isConfirmationModalVisible,onCancel:this.hideConfirmationModal},s.a.createElement("label",null,s.a.createElement(i.a,{content:"modal.confirmation.title"})))));var b=1,g=null;this.props.output_supports_memos&&(g=s.a.createElement("div",{className:"content-block"},s.a.createElement("label",null,s.a.createElement(i.a,{component:"span",content:"transfer.memo"})),s.a.createElement("textarea",{rows:"3",value:n,tabIndex:b++,onChange:this.onMemoChanged.bind(this)})));var v=this._getAvailableAssets().fee_asset_types;if(l.length>0){var w=this.props.asset.get("id");if(w){var E=c[w];r=s.a.createElement("span",{style:{borderBottom:"#A09F9F 1px dotted",cursor:"pointer"}},s.a.createElement(i.a,{component:"span",content:"transfer.available"})," : ",s.a.createElement("span",{className:"set-cursor",onClick:this.onAccountBalance.bind(this)},E?s.a.createElement(p.a,{balance:c[w]}):0))}else r="No funds"}else r="No funds";return s.a.createElement("form",{className:"grid-block vertical full-width-content",style:{paddingTop:"0px"}},s.a.createElement("div",{className:"grid-container"},s.a.createElement("div",{className:"content-block"},s.a.createElement(m.a,{label:"modal.withdraw.amount",amount:this.state.withdraw_amount,asset:this.props.asset.get("id"),assets:[this.props.asset.get("id")],placeholder:"0.0",onChange:this.onWithdrawAmountChange.bind(this),display_balance:r}),this.state.empty_withdraw_value?s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(i.a,{content:"transfer.errors.valid"})):null,this.state.balanceError?s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(i.a,{content:"transfer.errors.insufficient"})):null,this.state.minAmountError?s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(i.a,{content:"gateway.rudex.min_amount_error"})):null,s.a.createElement("p",{className:"no-margin",style:{paddingTop:10}},s.a.createElement("b",null,s.a.createElement(i.a,{content:"gateway.rudex.min_amount",minAmount:u.a.format_number(this.props.min_amount/u.a.get_asset_precision(this.props.asset_precision),this.props.asset_precision,!1),symbol:this.props.output_coin_symbol})))),this.state.feeAmount?s.a.createElement("div",{className:"content-block gate_fee"},s.a.createElement(m.a,{refCallback:this.setNestedRef.bind(this),disabled:!0,amount:this.state.feeAmount.getAmount({real:!0}),onChange:this.onFeeChanged.bind(this),asset:this.state.feeAmount.asset_id,assets:v,tabIndex:b++}),this.state.hasBalance?null:s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(i.a,{content:"transfer.errors.noFeeBalance"})),this.state.hasPoolBalance?null:s.a.createElement("p",{className:"has-error no-margin",style:{paddingTop:10}},s.a.createElement(i.a,{content:"transfer.errors.noPoolBalance"}))):null,this.props.gateFee?s.a.createElement("div",{className:"amount-selector right-selector",style:{paddingBottom:20}},s.a.createElement("label",{className:"left-label"},s.a.createElement(i.a,{content:"gateway.fee"})),s.a.createElement("div",{className:"inline-label input-wrapper"},s.a.createElement("input",{type:"text",disabled:!0,value:this.props.gateFee}),s.a.createElement("div",{className:"form-label select floating-dropdown"},s.a.createElement("div",{className:"dropdown-wrapper inactive"},s.a.createElement("div",null,this.props.output_coin_symbol))))):null,s.a.createElement("div",{className:"content-block"},s.a.createElement("label",{className:"left-label"},s.a.createElement(i.a,{component:"span",content:"modal.withdraw.address"})),s.a.createElement("div",{className:"rudex-select-dropdown"},s.a.createElement("div",{className:"inline-label"},s.a.createElement("input",{type:"text",value:t,tabIndex:"4",onChange:this.onWithdrawAddressChanged.bind(this),autoComplete:"off"}),s.a.createElement("span",{onClick:this.onDropDownList.bind(this)},"▼"))),s.a.createElement("div",{className:"rudex-position-options"},f),d),this.props.output_supportsPublicKey?s.a.createElement("div",{className:"content-block"},s.a.createElement("label",{className:"left-label"},s.a.createElement(i.a,{component:"span",content:"modal.withdraw.public_key"})),s.a.createElement("div",{className:"rudex-select-dropdown"},s.a.createElement("div",{className:"inline-label"},s.a.createElement("input",{type:"text",value:a,tabIndex:"5",onChange:this.onWithdrawPublicKeyChanged.bind(this),onInput:this.onWithdrawPublicKeyChanged.bind(this),autoComplete:"off"})))):null,g,s.a.createElement("div",null,s.a.createElement(C.Button,{disabled:this.state.error||this.state.balanceError||this.state.minAmountError||!this.state.withdraw_publicKey_not_empty,type:"primary",onClick:this.onSubmit.bind(this)},h.a.translate("modal.withdraw.submit")),s.a.createElement(C.Button,{onClick:this.props.hideModal,style:{marginLeft:"8px"}},h.a.translate("account.perm.cancel"))),y))}}]),a}();O.propTypes={account:c.a.ChainAccount.isRequired,issuer:c.a.ChainAccount.isRequired,asset:c.a.ChainAsset.isRequired,output_coin_name:k.a.string.isRequired,output_coin_symbol:k.a.string.isRequired,output_coin_type:k.a.string.isRequired,url:k.a.string,output_wallet_type:k.a.string,output_supports_memos:k.a.bool.isRequired,output_supportsPublicKey:k.a.bool.isRequired,amount_to_withdraw:k.a.string,balance:c.a.ChainObject,min_amount:k.a.number,gateFee:k.a.number},O=Object(l.a)(O),t.a=Object(y.a)(O,{listenTo:function(){return[b.a]},getProps:function(e){return{fee_asset_symbol:b.a.getState().settings.get("fee_asset")}}})}).call(this,a(125).Buffer)},2162:function(e,t,a){"use strict";var n=a(2163).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},2163:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=i(a(0)),r=i(a(2164));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(t.CopyToClipboard=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.onClick=function(e){var t=n.props,a=t.text,o=t.onCopy,i=t.children,c=t.options,l=s.default.Children.only(i),u=(0,r.default)(a,c);o&&o(a,u),l&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(e)},c(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.PureComponent),o(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["text","onCopy","options","children"]),o=s.default.Children.only(t);return s.default.cloneElement(o,n({},a,{onClick:this.onClick}))}}]),t}()).defaultProps={onCopy:void 0,options:void 0}},2164:function(e,t,a){"use strict";var n=a(895),o="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var a,s,r,i,c,l,u=!1;t||(t={}),a=t.debug||!1;try{if(r=n(),i=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",document.body.appendChild(l),i.selectNode(l),c.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(n){a&&console.error("unable to copy using execCommand: ",n),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),u=!0}catch(n){a&&console.error("unable to copy using clipboardData: ",n),a&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:o),window.prompt(s,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(i):c.removeAllRanges()),l&&document.body.removeChild(l),r()}return u}},2255:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(30),r=a(102),i=a(106),c=a(16),l=a(2),u=a.n(l),p=a(44),d=a(47),h=a(594),m=a(23),f=a(21),_=a(22),y=a(6),b=a(11),g=a.n(b),v=a(1),w=a.n(v),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a._handleCopy=a._handleCopy.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),E(t,[{key:"componentDidMount",value:function(){this.childRef&&(this.node=g.a.findDOMNode(this.childRef)),this.node&&this.node.addEventListener&&this.node.addEventListener("copy",this._handleCopy)}},{key:"componentWillUnmount",value:function(){this.node&&this.node.removeEventListener&&this.node.removeEventListener("copy",this._handleCopy)}},{key:"_handleCopy",value:function(e){!1!==this.props.disableCopy&&(this.props.replaceCopyText&&e.clipboardData.setData("text/plain",this.props.replaceCopyText),e.preventDefault())}},{key:"render",value:function(){var e=this;return o.a.createElement("span",{ref:function(t){return e.childRef=t}},this.props.children)}}]),t}();k.propTypes={disableCopy:w.a.bool,replaceCopyText:w.a.string};var C=k,S=a(2161),O=a(97),x=a(373),j=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),j(t,[{key:"render",value:function(){var e=this.props.asset.get("id"),t=this.props.account.getIn(["balances",e]);return t?o.a.createElement(x.a,{balance:t,replace:this.props.replace}):o.a.createElement("span",null,"0 ",o.a.createElement(O.a,{name:this.props.asset.get("symbol"),replace:this.props.replace}))}}]),t}();A.propTypes={account:p.a.ChainAccount.isRequired,asset:p.a.ChainAsset.isRequired},A.defaultProps={autosubscribe:!1};var P=Object(d.a)(A),N=a(20),T=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var D=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.current_rudex_address_cache_version_string="1"}return T(e,[{key:"getIndexForDepositKeyInExchange",value:function(e,t,a){return[this.current_rudex_address_cache_version_string,e,t,a].reduce(function(e,t){return e.concat("[",t,"]")},"")}},{key:"getCachedInputAddress",value:function(e,t,a,n){var o=N.a.getWallet();if(!o)return null;o.deposit_keys=o.deposit_keys||{},o.deposit_keys[e]=o.deposit_keys[e]||{};var s=this.getIndexForDepositKeyInExchange(t,a,n);o.deposit_keys[e][s]=o.deposit_keys[e][s]||[];var r=o.deposit_keys[e][s].length;return r?o.deposit_keys[e][s][r-1]:null}},{key:"cacheInputAddress",value:function(e,t,a,n,o,s){if("unknown"!==o){var r=N.a.getWallet();if(!r)return null;r.deposit_keys=r.deposit_keys||{},r.deposit_keys[e]=r.deposit_keys[e]||{};var i=this.getIndexForDepositKeyInExchange(t,a,n);r.deposit_keys[e][i]=r.deposit_keys[e][i]||[],r.deposit_keys[e][i].push({address:o,memo:s}),N.a._updateWallet()}}}]),e}(),B=a(2052),R=a(126),M=a(5),I=a.n(M),L=a(2162),W=a.n(L),F=a(4),K=a(89),U=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.deposit_address_cache=new D,a.state={isModalVisible:!1,receive_address:null},a.addDepositAddress=a.addDepositAddress.bind(a),a.showModal=a.showModal.bind(a),a.hideModal=a.hideModal.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),U(t,[{key:"showModal",value:function(){this.setState({isModalVisible:!0})}},{key:"hideModal",value:function(){this.setState({isModalVisible:!1})}},{key:"_getDepositObject",value:function(){return{inputCoinType:this.props.deposit_coin_type,outputCoinType:this.props.receive_coin_type,outputAddress:this.props.account.get("name"),stateCallback:this.addDepositAddress}}},{key:"_notify",value:function(e){var t="copy_address";"memo"==e&&(t="copy_memo"),F.Notification.success({message:I.a.translate("account.notify."+t)})}},{key:"addDepositAddress",value:function(e){var t=this.props.account.get("name");this.deposit_address_cache.cacheInputAddress(this.props.gateway,t,this.props.deposit_coin_type,this.props.receive_coin_type,e.address,e.memo),this.setState({account_name:t}),this.setState({receive_address:e})}},{key:"getWithdrawModalId",value:function(){return"withdraw_asset_"+this.props.issuer_account.get("name")+"_"+this.props.receive_asset.get("symbol")}},{key:"onWithdraw",value:function(){this.showModal()}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{style:{display:"none",minHeight:150}});if(!this.props.account||!this.props.issuer_account||!this.props.receive_asset)return t;var a=this.props.account.get("balances");if(this.props.deprecated_in_favor_of){var n=!1,s=a.get(this.props.receive_asset.get("id"));if(s){var r=y.ChainStore.getObject(s);if(r)0!=r.get("balance")&&(n=!0)}if(!n)return t}var i=this.state.receive_address;if(!i){var l=this.props.account.get("name");i=this.deposit_address_cache.getCachedInputAddress(this.props.gateway,l,this.props.deposit_coin_type,this.props.receive_coin_type)}var p=null;this.props.confirmations&&this.props.confirmations.type&&("irreversible"===this.props.confirmations.type?p=o.a.createElement(u.a,{content:"gateway.gateway_deposit.confirmations.last_irreversible"}):"blocks"===this.props.confirmations.type&&this.props.confirmations.value&&(p=o.a.createElement(u.a,{content:"gateway.gateway_deposit.confirmations.n_blocks",blocks:this.props.confirmations.value})));var d=this.getWithdrawModalId(),h=null,m=null,f="",_=void 0,b=void 0;if(K.b.RUDEX.simpleAssetGateway&&this.props.deposit_account)h=o.a.createElement("span",null,this.props.deposit_account),f=this.props.deposit_account,_=this.props.memoType&&"btsid"===this.props.memoType?K.b.RUDEX.fixedMemo.prepend_btsid+this.props.account.get("id").replace("1.2.","")+K.b.RUDEX.fixedMemo.append:K.b.RUDEX.fixedMemo.prepend_default+this.props.account.get("name")+K.b.RUDEX.fixedMemo.append,m=o.a.createElement("span",null,_),b=this.props.deposit_coin_type+":";else{if(!i&&!this.props.supportsMemos)return Object(B.b)(this._getDepositObject()),t;i.memo?(_=i.memo,f=i.address,h=o.a.createElement("span",null,i.address),m=o.a.createElement("span",null,i.memo)):(f=i.address,h=o.a.createElement("span",null,i.address)),b=""}return"deposit"===this.props.action?o.a.createElement("div",{className:"rudex__gateway grid-block no-padding no-margin"},o.a.createElement("div",{className:"small-12 medium-5"},o.a.createElement(u.a,{component:"h4",content:"gateway.deposit_summary"}),o.a.createElement("div",{className:"small-12 medium-10"},o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.asset_to_deposit"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},this.props.deposit_asset)),o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.asset_to_receive"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(O.a,{name:this.props.receive_asset.get("symbol"),replace:!1}))),o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.intermediate"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(R.a,{account:this.props.issuer_account.get("id")}))),o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.your_account"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(R.a,{account:this.props.account.get("id")}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(u.a,{content:"gateway.balance"}),":"),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(P,{account:this.props.account.get("name"),asset:this.props.receive_asset.get("symbol"),replace:!1}))))))),o.a.createElement("div",{className:"small-12 medium-7"},o.a.createElement(u.a,{component:"h4",content:"gateway.deposit_inst"}),o.a.createElement("label",{className:"left-label"},o.a.createElement(u.a,{content:"gateway.deposit_to",asset:this.props.deposit_asset}),":"),o.a.createElement("label",{className:"left-label"},o.a.createElement("b",null,o.a.createElement(u.a,{content:"gateway.rudex.min_amount",minAmount:c.a.format_number(this.props.min_amount/c.a.get_asset_precision(this.props.asset_precision),this.props.asset_precision,!1),symbol:this.props.deposit_coin_type}))),p?o.a.createElement("span",null,"(",o.a.createElement("i",null,p),")"):null,o.a.createElement("div",{style:{padding:"10px 0",fontSize:"1.1rem"}},o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"ADDRESS:"," ",o.a.createElement("b",null,o.a.createElement(C,{replaceCopyText:I.a.translate("gateway.use_copy_button")},h)))),m?o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(C,{replaceCopyText:I.a.translate("gateway.use_copy_button")},"MEMO: ",o.a.createElement("b",null,m)))):null)),o.a.createElement("div",{className:"button-group",style:{paddingTop:10}},h?o.a.createElement(W.a,{text:f,onCopy:function(){return e._notify("address")}},o.a.createElement("div",{className:"button"},"Copy address")):null,_?o.a.createElement(W.a,{text:_,onCopy:function(){return e._notify("memo")}},o.a.createElement("div",{className:"button"},"Copy memo")):null)))):o.a.createElement("div",{className:"rudex__gateway grid-block no-padding no-margin"},o.a.createElement("div",{className:"small-12 medium-5"},o.a.createElement(u.a,{component:"h4",content:"gateway.withdraw_summary"}),o.a.createElement("div",{className:"small-12 medium-10"},o.a.createElement("table",{className:"table"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.asset_to_withdraw"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(O.a,{name:this.props.receive_asset.get("symbol"),replace:!1}))),o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.asset_to_receive"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},this.props.deposit_asset)),o.a.createElement("tr",null,o.a.createElement(u.a,{component:"td",content:"gateway.intermediate"}),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(R.a,{account:this.props.issuer_account.get("id")}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement(u.a,{content:"gateway.balance"}),":"),o.a.createElement("td",{style:{fontWeight:"bold",color:"#049cce",textAlign:"right"}},o.a.createElement(P,{account:this.props.account.get("name"),asset:this.props.receive_asset.get("symbol"),replace:!1}))))))),o.a.createElement("div",{className:"small-12 medium-7"},o.a.createElement(u.a,{component:"h4",content:"gateway.withdraw_inst"}),o.a.createElement("label",{className:"left-label"},o.a.createElement(u.a,{content:"gateway.withdraw_to",asset:this.props.deposit_asset}),":"),o.a.createElement("div",{className:"button-group",style:{paddingTop:20}},o.a.createElement("button",{className:"button success",style:{fontSize:"1.3rem"},onClick:this.onWithdraw.bind(this)},o.a.createElement(u.a,{content:"gateway.withdraw_now"})," "))),o.a.createElement(F.Modal,{onCancel:this.hideModal,title:I.a.translate("gateway.withdraw_coin",{coin:this.props.deposit_asset_name,symbol:this.props.deposit_asset}),footer:null,visible:this.state.isModalVisible},o.a.createElement(S.a,{hideModal:this.hideModal,showModal:this.showModal,account:this.props.account.get("name"),issuer:this.props.issuer_account.get("name"),asset:this.props.receive_asset.get("symbol"),output_coin_name:this.props.deposit_asset_name,output_coin_symbol:this.props.deposit_asset,output_coin_type:this.props.deposit_coin_type,output_wallet_type:this.props.deposit_wallet_type,output_supports_memos:this.props.supports_output_memos,output_supportsPublicKey:this.props.supportsPublicKey,memo_prefix:b,modal_id:d,min_amount:this.props.min_amount,gateFee:this.props.gateFee,asset_precision:this.props.asset_precision,balance:this.props.account.get("balances").toJS()[this.props.receive_asset.get("id")]})))}}]),t}();q.propTypes={gateway:w.a.string,deposit_coin_type:w.a.string,deposit_asset_name:w.a.string,deposit_account:w.a.string,receive_coin_type:w.a.string,account:p.a.ChainAccount,issuer_account:p.a.ChainAccount,deposit_asset:w.a.string,deposit_wallet_type:w.a.string,receive_asset:p.a.ChainAsset,deprecated_in_favor_of:p.a.ChainAsset,deprecated_message:w.a.string,action:w.a.string,supports_output_memos:w.a.bool.isRequired,supportsPublicKey:w.a.bool.isRequired,memoType:w.a.string,min_amount:w.a.number,gateFee:w.a.number,confirmations:w.a.object,asset_precision:w.a.number};var V=Object(d.a)(q),X=a(1994),$=a(2027),J=a(9),H=a.n(J),z=(a(3),a(41)),G=a(2025),Y=(a(1986),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());var Z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={activeCoin:a._getActiveCoin(e,{action:"deposit"}),action:e.viewSettings.get("rudexAction","deposit")},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),Y(t,[{key:"_getActiveCoin",value:function(e,t){var a=e.viewSettings.get("activeCoin_rudex",null),n=a||"PPY";return"withdraw"===t.action&&(n=this._findCoinByName(e,n).symbol),n}},{key:"componentWillReceiveProps",value:function(e){e.provider!==this.props.provider&&this.setState({activeCoin:this._getActiveCoin(e,this.state.action)})}},{key:"onSelectCoin",value:function(e){this.setState({activeCoin:e.value});var t={},a=e.value;"withdraw"===this.state.action&&(a=this._findCoinBySymbol(this.props,a).backingCoin),t.activeCoin_rudex=a,_.a.changeViewSetting(t)}},{key:"_findCoinByName",value:function(e,t){for(var a=0;a<e.coins.length;a++){var n=e.coins[a];if(n.backingCoin.toUpperCase()===t)return n}return e.coins[0]}},{key:"_findCoinBySymbol",value:function(e,t){for(var a=0;a<e.coins.length;a++){var n=e.coins[a];if(n.symbol.toUpperCase()===t)return n}return null}},{key:"changeAction",value:function(e){var t=this._getActiveCoin(this.props,{action:e});this.setState({action:e,activeCoin:t}),_.a.changeViewSetting(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},"rudexAction",e))}},{key:"render",value:function(){var e=this,t=this.props,a=t.coins,n=t.account,s=this.state,r=s.activeCoin,i=s.action;if(!a.length)return o.a.createElement(z.a,null);var c=a.filter(function(e){return!(!e||!e.symbol)&&("deposit"===i?e.depositAllowed:e.withdrawalAllowed)}),l=c.map(function(e){var t="deposit"===i?e.backingCoin.toUpperCase():e.symbol,a=t.replace("RUDEX.",""),n="PPY"===a?"":"RUDEX.";return{value:t,label:o.a.createElement("div",null,o.a.createElement(X.a,{replaceNoneToBts:!1,maxWidth:20,name:n+a}),t.replace("RUDEX.",""))}}).filter(function(e){return null!==e}),p=c.filter(function(e){return"deposit"===i?e.backingCoin.toUpperCase()===r:e.symbol===r})[0];p||(p=c[0]);var d="deposit"===this.state.action;return o.a.createElement("div",{style:this.props.style},o.a.createElement("div",{className:"grid-block no-margin vertical medium-horizontal no-padding"},o.a.createElement("div",{className:"medium-4"},o.a.createElement("div",null,o.a.createElement("label",{style:{minHeight:"2rem"},className:"left-label"},o.a.createElement(u.a,{content:"gateway.choose_"+i}),":"," "),o.a.createElement(G.a,{onChange:this.onSelectCoin.bind(this),clearable:!1,searchable:!1,value:r,options:l}))),o.a.createElement("div",{className:"medium-6 medium-offset-1"},o.a.createElement("label",{style:{minHeight:"2rem"},className:"left-label"},o.a.createElement(u.a,{content:"gateway.gateway_text"}),":"),o.a.createElement("div",{style:{paddingBottom:15}},o.a.createElement("ul",{className:"button-group segmented no-margin"},o.a.createElement("li",{className:"deposit"===i?"is-active":""},o.a.createElement("a",{onClick:this.changeAction.bind(this,"deposit")},o.a.createElement(u.a,{content:"gateway.deposit"}))),o.a.createElement("li",{className:"withdraw"===i?"is-active":""},o.a.createElement("a",{onClick:this.changeAction.bind(this,"withdraw")},o.a.createElement(u.a,{content:"gateway.withdraw"}))))))),p?o.a.createElement("div",null,o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement(V,{key:""+p.symbol,gateway:p.gatewayWallet,issuer_account:p.issuer,account:n,deposit_asset:p.backingCoin.toUpperCase(),deposit_asset_name:p.name,deposit_coin_type:p.backingCoin.toLowerCase(),deposit_account:p.gatewayWallet,deposit_wallet_type:p.walletType,receive_asset:p.symbol,receive_coin_type:p.symbol.toLowerCase(),supports_output_memos:p.supportsMemos,supportsPublicKey:p.supportsPublicKey||!1,memoType:p.memoType,min_amount:p.minAmount,gateFee:p.gateFee,asset_precision:p.precision,confirmations:p.confirmations,action:this.state.action}),o.a.createElement("label",{className:"left-label"},"Support"),o.a.createElement("div",null,o.a.createElement(u.a,{content:"gateway.rudex.support_block"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("a",{href:"http://t.me/finteh",target:"_blank",rel:"noopener noreferrer",className:"external-link"},"http://t.me/finteh"))),p&&p.symbol?o.a.createElement($.b,{asset:p.symbol,fromAccount:d?p.issuerId:this.props.account.get("id"),to:d?this.props.account.get("id"):p.issuerId},function(t){var a=t.asset,n=t.to,s=t.fromAccount;return o.a.createElement($.a,{accountsList:H.a.List([e.props.account.get("id")]),limit:10,compactView:!0,fullHeight:!0,filter:"transfer",title:o.a.createElement(u.a,{content:"gateway.recent_"+e.state.action}),customFilter:{fields:["to","from","asset_id"],values:{to:n.get("id"),from:s.get("id"),asset_id:a.get("id")}}})}):null):null)}}]),t}(),Q=Object(s.a)(Z,{listenTo:function(){return[f.a]},getProps:function(){return{viewSettings:f.a.getState().viewSettings}}}),ee=a(153),te=a(377),ae=(a(622),a(616),a(27),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var re=function(e){function t(e){ne(this,t);var a=oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.state={olService:e.viewSettings.get("olService","gateway"),rudexService:e.viewSettings.get("rudexService","gateway"),bitsparkService:e.viewSettings.get("bitsparkService","gateway"),xbtsxService:e.viewSettings.get("xbtsxService","gateway"),btService:e.viewSettings.get("btService","bridge"),citadelService:e.viewSettings.get("citadelService","bridge"),metaService:e.viewSettings.get("metaService","bridge"),activeService:e.viewSettings.get("activeService",0),RudexNotice1Informed:!1},a}return se(t,o.a.Component),ae(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.account!==this.props.account||e.servicesDown!==this.props.servicesDown||!c.a.are_equal_shallow(e.blockTradesBackedCoins,this.props.blockTradesBackedCoins)||!c.a.are_equal_shallow(e.openLedgerBackedCoins,this.props.openLedgerBackedCoins)||!c.a.are_equal_shallow(e.citadelBackedCoins,this.props.citadelBackedCoins)||t.olService!==this.state.olService||t.rudexService!==this.state.rudexService||t.bitsparkService!==this.state.bitsparkService||t.xbtsxService!==this.state.xbtsxService||t.btService!==this.state.btService||t.citadelService!==this.state.citadelService||t.metaService!==this.state.metaService||t.activeService!==this.state.activeService||t.RudexNotice1Informed!==this.state.RudexNotice1Informed||e.currentLocale!==this.props.currentLocale}},{key:"componentWillMount",value:function(){r.a.getFinalFeeAsset(this.props.account,"transfer")}},{key:"toggleOLService",value:function(e){this.setState({olService:e}),_.a.changeViewSetting({olService:e})}},{key:"onRudexNotice1Informed",value:function(){this.setState({RudexNotice1Informed:!this.state.RudexNotice1Informed})}},{key:"toggleRuDEXService",value:function(e){this.setState({rudexService:e}),_.a.changeViewSetting({rudexService:e})}},{key:"toggleXbtsxService",value:function(e){this.setState({xbtsxService:e}),_.a.changeViewSetting({xbtsxService:e})}},{key:"toggleBitSparkService",value:function(e){this.setState({bitsparkService:e}),_.a.changeViewSetting({bitsparkService:e})}},{key:"toggleBTService",value:function(e){this.setState({btService:e}),_.a.changeViewSetting({btService:e})}},{key:"toggleCitadelService",value:function(e){this.setState({citadelService:e}),_.a.changeViewSetting({citadelService:e})}},{key:"toggleMetaService",value:function(e){this.setState({metaService:e}),_.a.changeViewSetting({metaService:e})}},{key:"onSetService",value:function(e){this.setState({activeService:parseInt(e.target.value)}),_.a.changeViewSetting({activeService:parseInt(e.target.value)})}},{key:"renderServices",value:function(e){var t=[],a=this.props.account,n=this.state,s=n.rudexService,r=n.RudexNotice1Informed;return t.push({name:"RuDEX (RUDEX.X)",identifier:"RUDEX",template:o.a.createElement("div",{className:"content-block"},o.a.createElement("div",{className:"service-selector",style:{marginBottom:"2rem"}},o.a.createElement("ul",{className:"button-group segmented no-margin"},o.a.createElement("li",{onClick:this.toggleRuDEXService.bind(this,"gateway"),className:"gateway"===s?"is-active":""},o.a.createElement("a",null,o.a.createElement(u.a,{content:"gateway.gateway"}))),o.a.createElement("li",{onClick:this.toggleRuDEXService.bind(this,"fiat"),className:"fiat"===s?"is-active":""},o.a.createElement("a",null,"Fiat")))),"gateway"===s&&e.length?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(u.a,{href:"ru"==this.props.currentLocale?"https://rudex.freshdesk.com/support/solutions/articles/35000138247-cоглашение-об-оказании-услуг-шлюза":"https://rudex.freshdesk.com/support/solutions/articles/35000138245-gateway-service-agreement",content:"gateway.rudex.rudex_notice1",component:"a",target:"_blank"}),o.a.createElement("h5",null,o.a.createElement("input",{type:"checkbox",defaultChecked:this.state.RudexNotice1Informed,onChange:this.onRudexNotice1Informed.bind(this)})," ","-"," ",o.a.createElement(u.a,{content:"gateway.rudex.rudex_notice1_informed"}))),o.a.createElement("hr",null),r?o.a.createElement(Q,{account:a,coins:e}):null):null,"fiat"===s?o.a.createElement("div",null,o.a.createElement(u.a,{content:"gateway.rudex.coming_soon"})):null)}),t}},{key:"render",value:function(){var e=this.props,t=e.account,a=e.servicesDown,n=this.state.activeService,s=this.props.rudexBackedCoins.map(function(e){return e}).sort(function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0}),r=this.renderServices(s),i=[],c=r.map(function(e,t){return i.push(e.identifier),o.a.createElement("option",{key:t,value:t},e.name)}),l=i[n],p=a.get(l);return o.a.createElement("div",{className:this.props.contained?"grid-content":"grid-container"},o.a.createElement("div",{className:this.props.contained?"":"grid-content",style:{paddingTop:"2rem"}},o.a.createElement(u.a,{content:"gateway.title",component:"h2"}),o.a.createElement("div",{className:"grid-block vertical medium-horizontal no-margin no-padding"},o.a.createElement("div",{className:"medium-6 show-for-medium"},o.a.createElement(h.a,{path:"components/DepositWithdraw",section:"deposit-short"})),o.a.createElement("div",{className:"medium-5 medium-offset-1"},o.a.createElement(h.a,{account:t.get("name"),path:"components/DepositWithdraw",section:"receive"}))),o.a.createElement("div",null,o.a.createElement("div",{className:"grid-block vertical medium-horizontal no-margin no-padding"},o.a.createElement("div",{className:"medium-6 small-order-2 medium-order-1"},o.a.createElement(u.a,{component:"label",className:"left-label",content:"gateway.service"}),o.a.createElement("select",{onChange:this.onSetService.bind(this),className:"bts-select",value:n},c),p?o.a.createElement(u.a,{style:{color:"red",marginBottom:"1em",display:"block"},content:"gateway.unavailable_"+l}):null),o.a.createElement("div",{className:"medium-5 medium-offset-1 small-order-1 medium-order-2",style:{paddingBottom:20}},o.a.createElement(u.a,{component:"label",className:"left-label",content:"gateway.your_account"}),o.a.createElement("div",{className:"inline-label"},o.a.createElement(te.a,{size:{height:40,width:40},account:t.get("name"),custom_image:null}),o.a.createElement("input",{type:"text",value:t.get("name"),placeholder:null,disabled:!0,onChange:function(){},onKeyDown:function(){},tabIndex:1}))))),o.a.createElement("div",{className:"grid-content no-padding",style:{paddingTop:15}},p?null:n&&r[n]?r[n].template:r[0].template)))}}]),t}();re.propTypes={account:p.a.ChainAccount.isRequired,contained:w.a.bool},re.defaultProps={contained:!1},re=Object(d.a)(re);var ie=function(e){function t(){return ne(this,t),oe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return se(t,o.a.Component),ae(t,[{key:"componentWillMount",value:function(){Object(i.g)()}},{key:"render",value:function(){return o.a.createElement(re,this.props)}}]),t}();t.default=Object(s.a)(ie,{listenTo:function(){return[m.a,f.a,ee.a]},getProps:function(){return{currentAccount:m.a.getState().currentAccount||m.a.getState().passwordAccount,account:m.a.getState().currentAccount,viewSettings:f.a.getState().viewSettings,currentLocale:f.a.getState().settings.get("locale"),backedCoins:ee.a.getState().backedCoins,openLedgerBackedCoins:ee.a.getState().backedCoins.get("OPEN",[]),rudexBackedCoins:ee.a.getState().backedCoins.get("RUDEX",[]),bitsparkBackedCoins:ee.a.getState().backedCoins.get("SPARKDEX",[]),blockTradesBackedCoins:ee.a.getState().backedCoins.get("TRADE",[]),citadelBackedCoins:ee.a.getState().backedCoins.get("CITADEL",[]),xbtsxBackedCoins:ee.a.getState().backedCoins.get("XBTSX",[]),servicesDown:ee.a.getState().down||{}}}})}}]);
//# sourceMappingURL=deposit-withdraw.js.map